<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tangent - A Variable Font System</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // Scroll progress indicator
        document.addEventListener('DOMContentLoaded', function () {
            const sections = document.querySelectorAll('.section');
            const menuLineWrappers = document.querySelectorAll('.menu-line-wrapper');
            const menuLines = document.querySelectorAll('.menu-line');

            // Group sections by their main category
            const sectionGroups = [
                [0], // Hero
                [1, 2], // Transformation (intro + axes + specimen)
                [3, 4, 5, 6, 7], // Connection (intro + keyboard + glyphset + typing)
                [8, 9, 10], // Generation (intro + processing + posters)
                [11, 12, 13, 14], // Variability (intro + alphabet + axes + typing)
                [15, 16, 17, 18, 19], // Specimen (intro + 3 versions + context)
                [20, 21] // Download + specs
            ];

            function updateProgress() {
                const scrollPosition = window.scrollY + window.innerHeight / 2;

                let currentGroup = 0;
                sections.forEach((section, index) => {
                    const sectionTop = section.offsetTop;
                    const sectionBottom = sectionTop + section.offsetHeight;

                    if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                        // Find which group this section belongs to
                        sectionGroups.forEach((group, groupIndex) => {
                            if (group.includes(index)) {
                                currentGroup = groupIndex;
                            }
                        });
                    }
                });

                // Update active state
                menuLines.forEach((line, i) => {
                    if (i === currentGroup) {
                        line.classList.add('active');
                    } else {
                        line.classList.remove('active');
                    }
                });
            }

            // Click to scroll to section
            menuLineWrappers.forEach((wrapper, index) => {
                wrapper.addEventListener('click', function () {
                    const targetSectionIndex = sectionGroups[index][0];
                    const targetSection = sections[targetSectionIndex];
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            window.addEventListener('scroll', updateProgress);
            updateProgress(); // Initial call
        });
    </script>
</head>

<body>

    <!-- FIXED NAVIGATION -->
    <div class="meta-line">Transforming through Transmission</div>
    <div class="nav"><a href="#download">Download</a></div>
    <div class="menu-lines">
        <div class="menu-line-wrapper" data-section="0">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Back to Top</div>
        </div>
        <div class="menu-line-wrapper" data-section="1">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Four Axes</div>
        </div>
        <div class="menu-line-wrapper" data-section="2">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Connection</div>
        </div>
        <div class="menu-line-wrapper" data-section="3">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Generation</div>
        </div>
        <div class="menu-line-wrapper" data-section="4">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Variability</div>
        </div>
        <div class="menu-line-wrapper" data-section="5">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Specimen</div>
        </div>
        <div class="menu-line-wrapper" data-section="6">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Download</div>
        </div>
    </div>

    <!-- [1] HERO -->
    <section class="section bg-green">
        <div class="centered-layout">
            <h1 class="hero-title">Tangent</h1>
            <p class="section-subtitle">
                A variable font system exploring transformation through transmission
            </p>
            <div class="letter-cards">
                <div class="letter-card">
                    <div class="letter-slot" data-index="0">
                        <div class="letter-reel">
                            <div class="letter-item">F</div>
                        </div>
                    </div>
                </div>
                <div class="letter-card">
                    <div class="letter-slot" data-index="1">
                        <div class="letter-reel">
                            <div class="letter-item">O</div>
                        </div>
                    </div>
                </div>
                <div class="letter-card">
                    <div class="letter-slot" data-index="2">
                        <div class="letter-reel">
                            <div class="letter-item">R</div>
                        </div>
                    </div>
                </div>
                <div class="letter-card">
                    <div class="letter-slot" data-index="3">
                        <div class="letter-reel">
                            <div class="letter-item">M</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- [2] TRANSFORMATION INTRO -->
    <!-- <section class="section bg-light-yellow">
        <div class="centered-layout">
            <h2 class="section-title">4 Axes</h2>
            <p class="section-subtitle">
                Radius, twist, weight, and amplitude create a system where glyphs continuously evolve. Each axis transforms the character of the letterforms, enabling infinite variation within a single typeface.
            </p>
        </div>
    </section> -->

    <!-- [2a] AXIS GRID -->
    <section class="section tall bg-linen">
        <div class="centered-layout">
            <div class="section-text">
                <h2 class="section-title">Four Axes</h2>
                <p class="section-subtitle">
                    Radius, twist, weight, and amplitude create a system where glyphs continuously evolve. Each axis
                    transforms the character of the letterforms, enabling infinite variation within a single typeface.
                </p>
            </div>
            <div class="axis-grid">
                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="twist-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Twist</div>
                    <div class="axis-controls">
                        <button class="play-btn" id="twist-play">▶</button>
                        <div class="custom-slider axis-custom-slider" id="twist-slider-container">
                            <div class="slider-track"></div>
                            <div class="slider-thumb" id="twist-slider-thumb">0</div>
                        </div>
                    </div>
                </div>

                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="radius-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Radius</div>
                    <div class="axis-controls">
                        <button class="play-btn" id="radius-play">▶</button>
                        <div class="custom-slider axis-custom-slider" id="radius-slider-container">
                            <div class="slider-track"></div>
                            <div class="slider-thumb" id="radius-slider-thumb">0</div>
                        </div>
                    </div>
                </div>

                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="weight-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Weight</div>
                    <div class="axis-controls">
                        <button class="play-btn" id="weight-play">▶</button>
                        <div class="custom-slider axis-custom-slider" id="weight-slider-container">
                            <div class="slider-track"></div>
                            <div class="slider-thumb" id="weight-slider-thumb">0</div>
                        </div>
                    </div>
                </div>

                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="amplitude-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Amplitude</div>
                    <div class="axis-controls">
                        <button class="play-btn" id="amplitude-play">▶</button>
                        <div class="custom-slider axis-custom-slider" id="amplitude-slider-container">
                            <div class="slider-track"></div>
                            <div class="slider-thumb" id="amplitude-slider-thumb">0</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- [2b] FULL SPECIMEN -->
    <section class="section full-height bg-white">
        <video id="fullposter-1" loop autoplay muted>
            <source src="videos/FullPoster_1.mp4" type="video/mp4">
        </video>
    </section>

    <!-- [3] CONNECTION INTRO -->
    <section class="section bg-periwinkle">
        <div class="centered-layout">
            <div>
                <h2 class="section-title">Building Paths</h2>
                <p class="section-subtitle">
                    Each glyph connects to its neighbor through a modular component system. The typeface functions as a
                    pattern-making tool, generating endless interconnected pathways.
                </p>
            </div>
            <!-- <div class="wireframe-box medium">
                Sample Pattern<br>Animation
            </div> -->
        </div>
    </section>

    <!-- [3a] KEYBOARD MAPPING -->
    <section class="section bg-white">
        <div class="centered-layout">
            <div class="section-text">
                <h3>How to Type</h3>
                <p class="section-subtitle">
                    To insert these characters in your text, <br>select "Tangent Form" font, size 20/20pt
                </p>
            </div>
            <div class="keyboard-container">
                <!-- Row 1: Numbers -->
                <div class="keyboard-row">
                    <div class="key empty"><span class="key-label">~</span></div>
                    <div class="key empty"><span class="key-label">1</span></div>
                    <div class="key empty"><span class="key-label">2</span></div>
                    <div class="key empty"><span class="key-label">3</span></div>
                    <div class="key empty"><span class="key-label">4</span></div>
                    <div class="key empty"><span class="key-label">5</span></div>
                    <div class="key empty"><span class="key-label">6</span></div>
                    <div class="key empty"><span class="key-label">7</span></div>
                    <div class="key empty"><span class="key-label">8</span></div>
                    <div class="key empty"><span class="key-label">9</span></div>
                    <div class="key empty"><span class="key-label">0</span></div>
                    <div class="key empty"><span class="key-label">-</span></div>
                    <div class="key empty"><span class="key-label">=</span></div>
                    <div class="key wide empty"><span class="key-label">Backspace</span></div>
                </div>

                <!-- Row 2: QWERTY -->
                <div class="keyboard-row">
                    <div class="key wide-tab empty"><span class="key-label">Tab</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">Q</span>
                        <span class="glyph">q</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">W</span>
                        <span class="glyph">w</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">E</span>
                        <span class="glyph">e</span>
                    </div>
                    <div class="key empty"><span class="key-label">R</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">T</span>
                        <span class="glyph">t</span>
                    </div>
                    <div class="key empty"><span class="key-label">Y</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">U</span>
                        <span class="glyph">u</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">I</span>
                        <span class="glyph">i</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">O</span>
                        <span class="glyph">o</span>
                    </div>
                    <div class="key empty"><span class="key-label">P</span></div>
                    <div class="key empty"><span class="key-label">[</span></div>
                    <div class="key empty"><span class="key-label">]</span></div>
                    <div class="key empty"><span class="key-label">\</span></div>
                </div>

                <!-- Row 3: ASDF -->
                <div class="keyboard-row">
                    <div class="key wide-caps empty"><span class="key-label">Caps Lock</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">A</span>
                        <span class="glyph">a</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">S</span>
                        <span class="glyph">s</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">D</span>
                        <span class="glyph">d</span>
                    </div>
                    <div class="key empty"><span class="key-label">F</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">G</span>
                        <span class="glyph">g</span>
                    </div>
                    <div class="key empty"><span class="key-label">H</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">J</span>
                        <span class="glyph">j</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">K</span>
                        <span class="glyph">k</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">L</span>
                        <span class="glyph">l</span>
                    </div>
                    <div class="key empty"><span class="key-label">;</span></div>
                    <div class="key empty"><span class="key-label">'</span></div>
                    <div class="key wide-return empty"><span class="key-label">Return</span></div>
                </div>

                <!-- Row 4: ZXCV -->
                <div class="keyboard-row">
                    <div class="key wide-shift empty"><span class="key-label">Shift</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">Z</span>
                        <span class="glyph">z</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">X</span>
                        <span class="glyph">x</span>
                    </div>
                    <div class="key has-glyph">
                        <span class="key-label">C</span>
                        <span class="glyph">c</span>
                    </div>
                    <div class="key empty"><span class="key-label">V</span></div>
                    <div class="key has-glyph">
                        <span class="key-label">B</span>
                        <span class="glyph">b</span>
                    </div>
                    <div class="key empty"><span class="key-label">N</span></div>
                    <div class="key empty"><span class="key-label">M</span></div>
                    <div class="key empty"><span class="key-label">,</span></div>
                    <div class="key empty"><span class="key-label">.</span></div>
                    <div class="key empty"><span class="key-label">/</span></div>
                    <div class="key wide-shift empty"><span class="key-label">Shift</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- [3c] LIVE TYPING -->
    <section class="section bg-light-yellow">
        <div class="centered-layout" id="testing-ground">
            <div class="try-it-container">
                <!-- Left side: Canvas/Text display -->
                <div class="canvas-container">
                    <div class="canvas-text" id="canvas-text" contenteditable="true" spellcheck="false">qkeo t<br>akskkc<br>zezet<br> zkxc</div>
                </div>

                <!-- Right side: Controls -->
                <div class="controls-panel">

                    <!-- Mini keyboard legend -->
                    <div class="control-section">
                        <div class="mini-keyboard">
                            <!-- Row 2 -->
                            <div class="mini-keyboard-row">
                                <div class="mini-key has-glyph"><span class="mini-key-label">Q</span><span
                                        class="mini-glyph">q</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">W</span><span
                                        class="mini-glyph">w</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">E</span><span
                                        class="mini-glyph">e</span></div>
                                <div class="mini-key"><span class="mini-key-label">R</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">T</span><span
                                        class="mini-glyph">t</span></div>
                                <div class="mini-key"><span class="mini-key-label">Y</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">U</span><span
                                        class="mini-glyph">u</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">I</span><span
                                        class="mini-glyph">i</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">O</span><span
                                        class="mini-glyph">o</span></div>
                                <div class="mini-key"><span class="mini-key-label">P</span></div>
                            </div>
                            <!-- Row 3 -->
                            <div class="mini-keyboard-row">
                                <div class="mini-key has-glyph"><span class="mini-key-label">A</span><span
                                        class="mini-glyph">a</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">S</span><span
                                        class="mini-glyph">s</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">D</span><span
                                        class="mini-glyph">d</span></div>
                                <div class="mini-key"><span class="mini-key-label">F</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">G</span><span
                                        class="mini-glyph">g</span></div>
                                <div class="mini-key"><span class="mini-key-label">H</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">J</span><span
                                        class="mini-glyph">j</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">K</span><span
                                        class="mini-glyph">k</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">L</span><span
                                        class="mini-glyph">l</span></div>
                                <div class="mini-key"><span class="mini-key-label">;</span></div>
                            </div>
                            <!-- Row 4 -->
                            <div class="mini-keyboard-row">
                                <div class="mini-key has-glyph"><span class="mini-key-label">Z</span><span
                                        class="mini-glyph">z</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">X</span><span
                                        class="mini-glyph">x</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">C</span><span
                                        class="mini-glyph">c</span></div>
                                <div class="mini-key"><span class="mini-key-label">V</span></div>
                                <div class="mini-key has-glyph"><span class="mini-key-label">B</span><span
                                        class="mini-glyph">b</span></div>
                                <div class="mini-key"><span class="mini-key-label">N</span></div>
                                <div class="mini-key"><span class="mini-key-label">M</span></div>
                                <div class="mini-key"><span class="mini-key-label">,</span></div>
                                <div class="mini-key"><span class="mini-key-label">.</span></div>
                                <div class="mini-key"><span class="mini-key-label">/</span></div>
                            </div>
                        </div>
                    </div>

                    <div class="design-panel">

                        <!-- Text Size slider -->
                        <div class="control-section" id="control-section-text-size">
                            <div class="control-section-title">Design</div>
                            <label class="axis-slider-label">Text Size</label>
                            <div class="custom-slider" id="text-size-slider-container">
                                <div class="slider-track"></div>
                                <div class="slider-thumb" id="text-size-thumb">113</div>
                            </div>
                        </div>

                        <!-- Color controls -->
                        <div class="control-section">
                            <div class="color-section">
                                <div class="color-toggle">
                                    <button class="color-toggle-btn active" data-mode="foreground" id="foreground-btn">
                                        Foreground
                                        <input type="color" id="foreground-color" class="hidden-color-picker"
                                            value="#4B2234">
                                    </button>
                                    <button class="color-toggle-btn" data-mode="background" id="background-btn">
                                        Background
                                        <input type="color" id="background-color" class="hidden-color-picker"
                                            value="#F6F6EA">
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Variable Axis controls -->
                        <div class="control-section">
                            <div class="axis-slider-group">
                                <div class="control-section-title">Variable Axis</div>
                                <div class="axis-slider-item">
                                    <label class="axis-slider-label">Twist</label>
                                    <div class="custom-slider" id="try-twist-slider-container">
                                        <div class="slider-track"></div>
                                        <div class="slider-thumb" id="try-twist-thumb">0</div>
                                    </div>
                                </div>
                                <div class="axis-slider-item">
                                    <label class="axis-slider-label">Radius</label>
                                    <div class="custom-slider" id="try-radius-slider-container">
                                        <div class="slider-track"></div>
                                        <div class="slider-thumb" id="try-radius-thumb">100</div>
                                    </div>
                                </div>
                                <div class="axis-slider-item">
                                    <label class="axis-slider-label">Weight</label>
                                    <div class="custom-slider" id="try-weight-slider-container">
                                        <div class="slider-track"></div>
                                        <div class="slider-thumb" id="try-weight-thumb">50</div>
                                    </div>
                                </div>
                                <div class="axis-slider-item">
                                    <label class="axis-slider-label">Amplitude</label>
                                    <div class="custom-slider" id="try-amplitude-slider-container">
                                        <div class="slider-track"></div>
                                        <div class="slider-thumb" id="try-amplitude-thumb">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- [4] GENERATION INTRO -->
    <!-- <section class="section bg-linen">
        <div class="centered-layout">
            <div class="section-label">[4] GENERATION</div>
            <h2 class="section-title">Endless Permutations</h2>
            <p class="section-subtitle">
                Interactive tools for creating complex pathway systems. Click, drag, and generate infinite variations.
            </p>
        </div>
    </section> -->

    <!-- [4a] PROCESSING SKETCH -->
    <!-- <section class="section full-height bg-dark">
        <div class="wireframe-box full">
            <div style="font-size: 14px; color: #f5f3ed;">
                <strong>PROCESSING SKETCH IFRAME</strong><br><br>
                Full viewport interactive experience<br>
                Click and drag to create pathways
            </div>
        </div>
    </section> -->

    <!-- [4b] ANIMATED POSTERS -->
    <!-- <section class="section bg-light-yellow">
        <div style="width: 100%; max-width: 1300px;">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 60px; text-align: center;">
                Generated Compositions
            </h3>
            <div class="poster-grid">
                <div class="poster-box">Animated Poster 1</div>
                <div class="poster-box">Animated Poster 2</div>
                <div class="poster-box">Animated Poster 3</div>
            </div>
        </div>
    </section> -->

    <!-- [5] VARIABILITY INTRO -->
    <!-- <section class="section bg-coral">
        <div class="split-layout">
            <div class="wireframe-box medium">
                Alphabet<br>Animation
            </div>
            <div>
                <div class="section-label">[5] VARIABILITY</div>
                <h2 class="section-title">Letterforms in Motion</h2>
                <p class="body-text">
                    Traditional letterforms that inherit the same variable system. Characters transform through weight,
                    contrast, construction, and twist.
                </p>
            </div>
        </div>
    </section> -->

    <!-- [5a] ALPHABET DISPLAY -->
    <!-- <section class="section full-height bg-light-yellow">
        <div class="wireframe-box full">
            <div style="font-size: 14px;">
                <strong>COMPLETE ALPHABET</strong><br><br>
                A—Z display
            </div>
        </div>
    </section> -->

    <!-- [5b] AXIS DEMONSTRATIONS -->
    <!-- <section class="section tall bg-linen">
        <div class="centered-layout">
            <div class="wireframe-box large" style="max-width: 900px; margin: 0 auto;">
                <strong>AXIS ANIMATION SEQUENCE</strong><br><br>
                Text specimen cycling through each axis
            </div>
        </div>
    </section> -->

    <!-- [5c] LIVE TYPING WITH CONTROLS -->
    <!-- <section class="section bg-light-yellow">
        <div class="centered-layout">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 40px;">Type to Explore</h3>
            <div class="wireframe-box large">
                <strong>INTERACTIVE TYPING + SLIDERS</strong><br><br>
                Text input field<br>
                Live axis controls (4 sliders)
            </div>
        </div>
    </section> -->

    <!-- [6] SPECIMEN INTRO -->
    <!-- <section class="section bg-periwinkle">
        <div class="centered-layout">
            <div class="section-label">[6] SPECIMEN</div>
            <h2 class="section-title">Three Voices</h2>
            <p class="section-subtitle">
                Tangent comes in three distinct versions, each with complete character sets for different applications.
            </p>
        </div>
    </section> -->

    <!-- [6a] TANGENT FORM -->
    <!-- <section class="section bg-light-yellow">
        <div class="split-layout">
            <div>
                <h3 style="font-size: 32px; font-weight: 600; margin-bottom: 20px;">Tangent Form</h3>
                <p class="body-text">
                    Pattern-generating glyphs<br>
                    500+ topological configurations<br>
                    Modular component system
                </p>
            </div>
            <div class="wireframe-box large">Form Glyphset</div>
        </div>
    </section> -->

    <!-- [6b] TANGENT MONO -->
    <!-- <section class="section bg-linen">
        <div class="split-layout">
            <div class="wireframe-box large">Mono Character Set</div>
            <div>
                <h3 style="font-size: 32px; font-weight: 600; margin-bottom: 20px;">Tangent Mono</h3>
                <p class="body-text">
                    Monospaced letterset<br>
                    Complete Latin extended<br>
                    Numbers, punctuation
                </p>
            </div>
        </div>
    </section> -->

    <!-- [6c] TANGENT SANS -->
    <!-- <section class="section bg-light-yellow">
        <div class="split-layout">
            <div>
                <h3 style="font-size: 32px; font-weight: 600; margin-bottom: 20px;">Tangent Sans</h3>
                <p class="body-text">
                    Proportional letterset<br>
                    Complete Latin extended<br>
                    Numbers, punctuation
                </p>
            </div>
            <div class="wireframe-box large">Sans Character Set</div>
        </div>
    </section> -->

    <!-- [6d] IN CONTEXT -->
    <!-- <section class="section bg-yellow">
        <div style="width: 100%; max-width: 1300px;">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 60px; text-align: center;">In Context</h3>
            <div class="specimen-row">
                <div class="specimen-col">
                    <div class="wireframe-box large">Specimen Text<br>Tangent Mono</div>
                </div>
                <div class="specimen-col">
                    <div class="wireframe-box large">Specimen Text<br>Tangent Sans</div>
                </div>
            </div>
        </div>
    </section> -->

    <!-- [7] DOWNLOAD -->
    <!-- <section id="download" class="section compact bg-light-yellow">
        <div style="width: 100%; max-width: 1300px;">
            <div style="text-align: center; margin-bottom: 80px;">
                <div class="section-label">[7] DOWNLOAD</div>
                <h2 class="section-title">Get Tangent</h2>
                <p class="section-subtitle">
                    Available in three versions. Download the complete variable font family.
                </p>
            </div>

            <div class="download-grid">
                <div class="download-card">
                    <div class="download-title">Tangent Form</div>
                    <div class="download-desc">
                        Pattern-generating glyphs<br>
                        500+ configurations<br>
                        4 variable axes
                    </div>
                    <a href="#" class="btn">Download</a>
                </div>

                <div class="download-card">
                    <div class="download-title">Tangent Mono</div>
                    <div class="download-desc">
                        Monospaced letterset<br>
                        Complete character set<br>
                        4 variable axes
                    </div>
                    <a href="#" class="btn">Download</a>
                </div>

                <div class="download-card">
                    <div class="download-title">Tangent Sans</div>
                    <div class="download-desc">
                        Proportional letterset<br>
                        Complete character set<br>
                        4 variable axes
                    </div>
                    <a href="#" class="btn">Download</a>
                </div>
            </div>
        </div>
    </section> -->

    <!-- SPECS -->
    <section class="section compact bg-linen">
        <div class="specs-layout">
            <div class="specs-column">
                <h3>Technical Specs</h3>
                <ul>
                    <li>Format: OpenType Variable Font</li>
                    <li>Axes: 4 (Radius, Twist, Weight, Amplitude)</li>
                    <li>Radius: 100–900</li>
                    <li>Twist: 0–100</li>
                    <li>Weight: 0–100</li>
                    <li>Amplitude: 0–100</li>
                    <li>Glyphs: 50+</li>
                    <li>Character Set: Latin</li>
                </ul>
            </div>

            <div class="specs-column">
                <h3>Credits & Info</h3>
                <ul>
                    <li>Designers: Deborah Khodanovich → <a href="https://dvorit.ca">dvorit.ca</a><br></li>
                    <li>Designer: Saachi Mehta → <a href="https://saachimehta.work/">saachimehta.work</a></li>
                    <li></li>
                    <li>Year: 2025-2026</li>
                    <li>License: Open Font License</li>
                    <li>Recommended size: 20pt+</li>
                    <li>Made with support from Kelsey Elder</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <div class="footer bg-linen">
        <p>© 2025 TANGENT VARIABLE FONT</p>
    </div>


    <script>
        const letterSets = [
            { letters: ['M', 'O', 'N', 'O'] },
            { letters: ['F', 'O', 'R', 'M'] },
            { letters: ['S', 'A', 'N', 'S'] }
        ];

        const allLetters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
        let currentSetIndex = 0;
        let isSpinning = false;

        function getRandomLetter() {
            return allLetters[Math.floor(Math.random() * allLetters.length)];
        }

        function spinSingleSlot(slot, targetLetter, delay) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    const reel = slot.querySelector('.letter-reel');
                    const numRandomLetters = 16;
                    const letterHeight = 144;
                    const gap = 80; // Add the gap value
                    const totalLetterSpace = letterHeight + gap; // Total space per letter

                    // Build the reel with 16 random + target
                    reel.innerHTML = '';
                    for (let i = 0; i < numRandomLetters; i++) {
                        const div = document.createElement('div');
                        div.className = 'letter-item';
                        div.textContent = getRandomLetter();
                        reel.appendChild(div);
                    }

                    const target = document.createElement('div');
                    target.className = 'letter-item';
                    target.textContent = targetLetter;
                    reel.appendChild(target);

                    // Reset: position so FIRST letter is centered
                    reel.classList.remove('spinning');
                    reel.style.transition = 'none';
                    reel.style.top = `calc(50% - 72px)`; // Center the first letter

                    void reel.offsetHeight;

                    // Animate: move up so LAST letter (target) is centered
                    setTimeout(() => {
                        reel.classList.add('spinning');
                        reel.style.transition = 'top 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                        // Move up by 16 letters, accounting for gaps
                        reel.style.top = `calc(50% - 72px - ${numRandomLetters * totalLetterSpace}px)`;

                        setTimeout(() => {
                            reel.classList.remove('spinning');
                            resolve();
                        }, 1500);
                    }, 50);

                }, delay);
            });
        }

        async function spinSlots() {
            if (isSpinning) return;
            isSpinning = true;

            const slots = document.querySelectorAll('.letter-slot');
            currentSetIndex = (currentSetIndex + 1) % letterSets.length;
            const currentSet = letterSets[currentSetIndex];

            const spinPromises = [];
            slots.forEach((slot, index) => {
                spinPromises.push(spinSingleSlot(slot, currentSet.letters[index], index * 150));
            });

            await Promise.all(spinPromises);
            isSpinning = false;
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Start spinning immediately on load
            spinSlots();

            // Then continue spinning every 5 seconds
            setInterval(spinSlots, 3000);
        });



        // Global Custom Slider Class (used by both sections)
        class CustomSlider {
            constructor(containerId, thumbId, min, max, initialValue, onChange) {
                this.container = document.getElementById(containerId);
                this.thumb = document.getElementById(thumbId);
                this.min = min;
                this.max = max;
                this.value = initialValue;
                this.onChange = onChange;
                this.isDragging = false;

                this.init();
            }

            init() {
                this.updateThumbPosition();

                this.thumb.addEventListener('mousedown', (e) => this.startDrag(e));
                document.addEventListener('mousemove', (e) => this.drag(e));
                document.addEventListener('mouseup', () => this.stopDrag());

                this.thumb.addEventListener('touchstart', (e) => this.startDrag(e.touches[0]));
                document.addEventListener('touchmove', (e) => this.drag(e.touches[0]));
                document.addEventListener('touchend', () => this.stopDrag());

                this.container.addEventListener('click', (e) => {
                    if (e.target !== this.thumb) {
                        this.handleTrackClick(e);
                    }
                });
            }

            startDrag(e) {
                this.isDragging = true;
                e.preventDefault();
            }

            drag(e) {
                if (!this.isDragging) return;

                const rect = this.container.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const percent = Math.max(0, Math.min(1, x / rect.width));

                this.value = this.min + percent * (this.max - this.min);
                this.updateThumbPosition();
                this.onChange(this.value);
            }

            stopDrag() {
                this.isDragging = false;
            }

            handleTrackClick(e) {
                const rect = this.container.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const percent = Math.max(0, Math.min(1, x / rect.width));

                this.value = this.min + percent * (this.max - this.min);
                this.updateThumbPosition();
                this.onChange(this.value);
            }

            updateThumbPosition() {
                const percent = (this.value - this.min) / (this.max - this.min);
                const thumbPosition = percent * (this.container.offsetWidth - 20);
                this.thumb.style.left = `${thumbPosition}px`;
                this.thumb.textContent = Math.round(this.value);
            }

            setValue(value) {
                this.value = value;
                this.updateThumbPosition();
            }
        }

        // Variable font axis controls with play/pause and custom sliders
        document.addEventListener('DOMContentLoaded', () => {

            const axes = [
                {
                    name: 'twist',
                    slider: null,
                    text: document.getElementById('twist-text'),
                    playBtn: document.getElementById('twist-play'),
                    updateFn: (val) => `"TWST" ${val}, "RDUS" 100, "wght" 50, "AMPT" 0`,
                    isPlaying: false,
                    direction: 1,
                    currentValue: 0
                },
                {
                    name: 'radius',
                    slider: null,
                    text: document.getElementById('radius-text'),
                    playBtn: document.getElementById('radius-play'),
                    updateFn: (val) => `"TWST" 0, "RDUS" ${val}, "wght" 50, "AMPT" 0`,
                    isPlaying: false,
                    direction: 1,
                    currentValue: 0
                },
                {
                    name: 'weight',
                    slider: null,
                    text: document.getElementById('weight-text'),
                    playBtn: document.getElementById('weight-play'),
                    updateFn: (val) => `"TWST" 0, "RDUS" 100, "wght" ${val}, "AMPT" 0`,
                    isPlaying: false,
                    direction: 1,
                    currentValue: 0
                },
                {
                    name: 'amplitude',
                    slider: null,
                    text: document.getElementById('amplitude-text'),
                    playBtn: document.getElementById('amplitude-play'),
                    updateFn: (val) => `"TWST" 0, "RDUS" 100, "wght" 0, "AMPT" ${val}`,
                    isPlaying: false,
                    direction: 1,
                    currentValue: 0
                }
            ];

            // Initialize custom sliders for each axis
            axes.forEach(axis => {
                axis.slider = new CustomSlider(
                    `${axis.name}-slider-container`,
                    `${axis.name}-slider-thumb`,
                    0,
                    100,
                    0,
                    (value) => {
                        axis.currentValue = value;
                        axis.text.style.fontVariationSettings = axis.updateFn(value);
                    }
                );
            });

            function animateLoop() {
                axes.forEach(axis => {
                    if (!axis.isPlaying) return;

                    const distanceFromEdge = axis.direction === 1 ? (100 - axis.currentValue) : axis.currentValue;
                    const easeFactor = Math.max(0.7, Math.min(1, distanceFromEdge / 20));

                    axis.currentValue += axis.direction * 1 * easeFactor;

                    if (axis.currentValue >= 100) {
                        axis.currentValue = 100;
                        axis.direction = -1;
                    } else if (axis.currentValue <= 0) {
                        axis.currentValue = 0;
                        axis.direction = 1;
                    }

                    axis.slider.setValue(axis.currentValue);
                    axis.text.style.fontVariationSettings = axis.updateFn(axis.currentValue);
                });

                requestAnimationFrame(animateLoop);
            }

            function stopAnimation(axis) {
                axis.isPlaying = false;
                axis.playBtn.textContent = '▶';
                axis.playBtn.classList.remove('playing');
            }

            function startAnimation(axis) {
                axis.isPlaying = true;
                axis.playBtn.textContent = '⏸';
                axis.playBtn.classList.add('playing');
            }

            axes.forEach(axis => {
                axis.playBtn.addEventListener('click', () => {
                    if (axis.isPlaying) {
                        stopAnimation(axis);
                    } else {
                        startAnimation(axis);
                    }
                });

                axis.slider.thumb.addEventListener('mousedown', () => {
                    stopAnimation(axis);
                });

                axis.slider.thumb.addEventListener('touchstart', () => {
                    stopAnimation(axis);
                });

                axis.text.style.fontVariationSettings = axis.updateFn(axis.currentValue);
                startAnimation(axis);
            });

            animateLoop();
        });

        // Try It Yourself - Interactive Canvas with Custom Sliders
        document.addEventListener('DOMContentLoaded', () => {
            const canvasText = document.getElementById('canvas-text');
            const canvasContainer = document.querySelector('.canvas-container');
            const foregroundColorPicker = document.getElementById('foreground-color');
            const backgroundColorPicker = document.getElementById('background-color');
            const colorToggleBtns = document.querySelectorAll('.color-toggle-btn');

            let currentColorMode = 'foreground';
            let twist = 0, radius = 100, weight = 50, amplitude = 0;
            let textSize = 113;

            // Function to determine if color is light or dark
            function getTextColor(hexColor) {
                const r = parseInt(hexColor.substr(1, 2), 16);
                const g = parseInt(hexColor.substr(3, 2), 16);
                const b = parseInt(hexColor.substr(5, 2), 16);
                const brightness = (r * 299 + g * 587 + b * 114) / 1000;
                return brightness > 128 ? '#4B2234' : '#F6F6EA';
            }

            function updateFontVariation() {
                canvasText.style.fontVariationSettings = `"TWST" ${twist}, "RDUS" ${radius}, "wght" ${weight}, "AMPT" ${amplitude}`;
            }

            // Initialize all sliders using the global CustomSlider class
            const textSizeSlider = new CustomSlider(
                'text-size-slider-container',
                'text-size-thumb',
                40,
                300,
                113,
                (value) => {
                    textSize = value;
                    canvasText.style.fontSize = `${value}px`;
                    canvasText.style.lineHeight = '1';
                }
            );

            const twistSlider = new CustomSlider(
                'try-twist-slider-container',
                'try-twist-thumb',
                0,
                100,
                0,
                (value) => {
                    twist = value;
                    updateFontVariation();
                }
            );

            const radiusSlider = new CustomSlider(
                'try-radius-slider-container',
                'try-radius-thumb',
                0,
                100,
                100,
                (value) => {
                    radius = value;
                    updateFontVariation();
                }
            );

            const weightSlider = new CustomSlider(
                'try-weight-slider-container',
                'try-weight-thumb',
                0,
                100,
                50,
                (value) => {
                    weight = value;
                    updateFontVariation();
                }
            );

            const amplitudeSlider = new CustomSlider(
                'try-amplitude-slider-container',
                'try-amplitude-thumb',
                0,
                100,
                0,
                (value) => {
                    amplitude = value;
                    updateFontVariation();
                }
            );

            // Color controls
            const foregroundBtn = document.getElementById('foreground-btn');
            const backgroundBtn = document.getElementById('background-btn');

            // Set initial button background colors and text colors
            foregroundBtn.style.background = foregroundColorPicker.value;
            foregroundBtn.style.color = getTextColor(foregroundColorPicker.value);
            backgroundBtn.style.background = backgroundColorPicker.value;
            backgroundBtn.style.color = getTextColor(backgroundColorPicker.value);

            // Foreground color picker
            foregroundColorPicker.addEventListener('input', (e) => {
                canvasText.style.color = e.target.value;
                foregroundBtn.style.background = e.target.value;
                foregroundBtn.style.color = getTextColor(e.target.value);
            });

            foregroundColorPicker.addEventListener('click', (e) => {
                e.stopPropagation();
            });

            foregroundBtn.addEventListener('click', () => {
                colorToggleBtns.forEach(b => b.classList.remove('active'));
                foregroundBtn.classList.add('active');
            });

            // Background color picker
            backgroundColorPicker.addEventListener('input', (e) => {
                canvasContainer.style.background = e.target.value;
                backgroundBtn.style.background = e.target.value;
                backgroundBtn.style.color = getTextColor(e.target.value);
            });

            backgroundColorPicker.addEventListener('click', (e) => {
                e.stopPropagation();
            });

            backgroundBtn.addEventListener('click', () => {
                colorToggleBtns.forEach(b => b.classList.remove('active'));
                backgroundBtn.classList.add('active');
            });
            

            updateFontVariation();
        });


    </script>

</body>

</html>